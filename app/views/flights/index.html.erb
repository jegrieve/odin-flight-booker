<%= form_with(url: "/flights", method: :get, local: true) do |f| %>
<%= select_tag(:from_airport_id, options_for_select(@airport_options, selected: params[:from_airport_id]), prompt: "From") %>
<%= select_tag(:to_airport_id, options_for_select(@airport_options, selected: params[:to_airport_id]), prompt: "To") %>
<%= select_tag(:num_passengers, options_for_select(@passenger_options, selected: params[:num_passengers]), prompt: "Num Passengers") %>
<%= select_tag(:scheduled_on, options_for_select(@datetime_options, selected: params[:scheduled_on]), prompt: "Date") %>
<%= f.submit "Search for flight" %>
<% end %>

<% if @available_flights.any? %>
    <% @available_flights.each do |flight| %>
        Departing from: <%= Airport.find(flight.from_airport_id).code %>
        Arriving at: <%= Airport.find(flight.to_airport_id).code %>
        Duration: <%= flight.duration.to_s + "mins" %>
        Date: <%= flight.scheduled_on.strftime("%m/%d/%Y") %>
        Time: <%= flight.scheduled_on.strftime("%H:%M") %>
        <% end %>
        <% else %>
  There are no available flights on the selected date
<% end %>

